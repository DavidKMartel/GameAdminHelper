$('a.external').attr('target','_blank');var hasClass=(function(){var reCache={};return function(element,className){return(reCache[className]?reCache[className]:(reCache[className]=new RegExp("(?:\\s|^)"+className+"(?:\\s|$)"))).test(element.className);};})();var autoCollapse=2;var collapseCaption='hide';var expandCaption='show';window.collapseTable=function(tableIndex){var Button=document.getElementById('collapseButton'+tableIndex);var Table=document.getElementById('collapsibleTable'+tableIndex);if(!Table||!Button){return false;}var Rows=Table.rows;var i;if(Button.firstChild.data===collapseCaption){for(i=1;i<Rows.length;i++){Rows[i].style.display='none';}Button.firstChild.data=expandCaption;}else{for(i=1;i<Rows.length;i++){Rows[i].style.display=Rows[0].style.display;}Button.firstChild.data=collapseCaption;}};function createCollapseButtons(){var tableIndex=0;var NavigationBoxes={};var Tables=document.getElementsByTagName('table');var i;function handleButtonLink(index,e){window.
collapseTable(index);e.preventDefault();}for(i=0;i<Tables.length;i++){if($(Tables[i]).hasClass('collapsible')){var HeaderRow=Tables[i].getElementsByTagName('tr')[0];if(!HeaderRow)continue;var Header=HeaderRow.getElementsByTagName('th')[0];if(!Header)continue;NavigationBoxes[tableIndex]=Tables[i];Tables[i].setAttribute('id','collapsibleTable'+tableIndex);var Button=document.createElement('span');var ButtonLink=document.createElement('a');var ButtonText=document.createTextNode(collapseCaption);Button.className='collapseButton';ButtonLink.style.color=Header.style.color;ButtonLink.setAttribute('id','collapseButton'+tableIndex);ButtonLink.setAttribute('href','#');$(ButtonLink).on('click',$.proxy(handleButtonLink,ButtonLink,tableIndex));ButtonLink.appendChild(ButtonText);Button.appendChild(document.createTextNode('['));Button.appendChild(ButtonLink);Button.appendChild(document.createTextNode(']'));Header.insertBefore(Button,Header.firstChild);tableIndex++;}}for(i=0;i<tableIndex;i++){if($(
NavigationBoxes[i]).hasClass('collapsed')||(tableIndex>=autoCollapse&&$(NavigationBoxes[i]).hasClass('autocollapse'))){window.collapseTable(i);}else if($(NavigationBoxes[i]).hasClass('innercollapse')){var element=NavigationBoxes[i];while((element=element.parentNode)){if($(element).hasClass('outercollapse')){window.collapseTable(i);break;}}}}}$(createCollapseButtons);var NavigationBarHide='['+collapseCaption+']';var NavigationBarShow='['+expandCaption+']';function toggleNavigationBar(indexNavigationBar){var NavToggle=document.getElementById("NavToggle"+indexNavigationBar);var NavFrame=document.getElementById("NavFrame"+indexNavigationBar);if(!NavFrame||!NavToggle){return false;}if(NavToggle.firstChild.data==NavigationBarHide){for(var NavChild=NavFrame.firstChild;NavChild!=null;NavChild=NavChild.nextSibling){if(hasClass(NavChild,'NavContent')||hasClass(NavChild,'NavPic')){NavChild.style.display='none';}}NavToggle.firstChild.data=NavigationBarShow;}else if(NavToggle.firstChild.data==
NavigationBarShow){for(var NavChild=NavFrame.firstChild;NavChild!=null;NavChild=NavChild.nextSibling){if(hasClass(NavChild,'NavContent')||hasClass(NavChild,'NavPic')){NavChild.style.display='block';}}NavToggle.firstChild.data=NavigationBarHide;}}function createNavigationBarToggleButton(){var indexNavigationBar=0;var divs=document.getElementsByTagName("div");for(var i=0;NavFrame=divs[i];i++){if(hasClass(NavFrame,"NavFrame")){indexNavigationBar++;var NavToggle=document.createElement("a");NavToggle.className='NavToggle';NavToggle.setAttribute('id','NavToggle'+indexNavigationBar);NavToggle.setAttribute('href','javascript:toggleNavigationBar('+indexNavigationBar+');');var isCollapsed=hasClass(NavFrame,"collapsed");for(var NavChild=NavFrame.firstChild;NavChild!=null&&!isCollapsed;NavChild=NavChild.nextSibling){if(hasClass(NavChild,'NavPic')||hasClass(NavChild,'NavContent')){if(NavChild.style.display=='none'){isCollapsed=true;}}}if(isCollapsed){for(var NavChild=NavFrame.firstChild;NavChild!=
null;NavChild=NavChild.nextSibling){if(hasClass(NavChild,'NavPic')||hasClass(NavChild,'NavContent')){NavChild.style.display='none';}}}var NavToggleText=document.createTextNode(isCollapsed?NavigationBarShow:NavigationBarHide);NavToggle.appendChild(NavToggleText);for(var j=0;j<NavFrame.childNodes.length;j++){if(hasClass(NavFrame.childNodes[j],"NavHead")){NavToggle.style.color=NavFrame.childNodes[j].style.color;NavFrame.childNodes[j].appendChild(NavToggle);}}NavFrame.setAttribute('id','NavFrame'+indexNavigationBar);}}}$(createNavigationBarToggleButton);var httpsPls={init:function(){if(window.location.protocol!="https:"){window.location.href="https:"+window.location.href.substring(window.location.protocol.length);}}};$(httpsPls.init);var pootTabsHere={animationsEnabled:$.support.opacity,getTab:function(poot,index){return $(poot.children('.poot-tabs').children('ul').children('li')[parseInt(index)]);},changeTab:function(poot,index,duration,force){if(index==parseInt(poot.attr('pootSelected'))
&&!force&&duration)return;if(!pootTabsHere.animationsEnabled){duration=0;}poot.attr('pootSelected',index.toString());var babies=poot.children('.poot-tabs-content').children();babies.each(function(){$(this).fadeOut(duration,function(){$(this).removeClass('poot-tabs-selected');});});$(babies[index]).each(function(){$(this).fadeIn(duration,function(){$(this).addClass('poot-tabs-selected');});});var cowtabs=poot.children('.poot-tabs').children('ul').children('li');cowtabs.removeClass('poot-tabs-selected');$(cowtabs[index]).addClass('poot-tabs-selected');pootTabsHere.updatePoot(poot,$(babies[index]).height());},updatePoot:function(poot,babysize){if(poot.hasClass('poot-tabs-notitle')){poot.find('.poot-tabs-titletext').html(pootTabsHere.getTab(poot,poot.attr('pootSelected')).html());}else{poot.find('.poot-tabs-titletext').html(poot.attr('originalTitle')+' &mdash; '+pootTabsHere.getTab(poot,poot.attr('pootSelected')).html());}if(poot.has('.poot-tabs-edittabs')&&poot.has('.poot-tabs-navbar')){
try{poot.find('.poot-tabs-navbar').html($(poot.children('.poot-tabs-edittabs').children('span')[parseInt(poot.attr('pootSelected'))]).html());}catch(e){}}var bestHeight=Math.max(poot.children('.poot-tabs-content').height(),Math.max(poot.children('.poot-tabs').height(),babysize)).toString()+'px';poot.children('.poot-tabs-content').css('height',bestHeight);if(poot.attr('vertical')){poot.children('.poot-tabs').css('height',bestHeight);}},toggleCollapse:function(poot){var pootLinkText=poot.children('.poot-tabs-showhide').text().split(';');var duration=pootTabsHere.animationsEnabled?parseInt(poot.attr('pootslideduration')):0;if(poot.attr('pootcollapse')!='true'){poot.attr('pootcollapse','true');poot.find('.poot-tabs-hidelink a').text(pootLinkText[0]);poot.children('.poot-tabs, .poot-tabs-content').slideUp(duration);}else{poot.attr('pootcollapse','');poot.find('.poot-tabs-hidelink a').text(pootLinkText[1]);poot.children('.poot-tabs, .poot-tabs-content').slideDown(duration);}},delayHeight:
function(poot,selected){setTimeout(function(){poot.attr('pootselected',selected.toString());pootTabsHere.changeTab(poot,selected,0,true);if(poot.hasClass('poot-tabs-collapsed')){pootTabsHere.toggleCollapse(poot);}},100);},poot:function(){var dis=$(this);dis.removeClass('poot-tabs-nojs');var ind=0;dis.attr('originalTitle',dis.find('.poot-tabs-titletext').html());var selected=/poot-tabs-selected-(\d+)/i.exec(dis.attr('class'));if(selected){pootTabsHere.delayHeight(dis,parseInt(selected[1])-1);}else{pootTabsHere.delayHeight(dis,0);}var duration=dis.hasClass('poot-tabs-noanimations')?0:200;dis.attr('pootslideduration',dis.hasClass('poot-tabs-noanimations')?'0':'75');dis.children('.poot-tabs').children('ul').children('li').each(function(){var thisInd=ind;$(this).click(function(){pootTabsHere.changeTab(dis,thisInd,duration,false);$(this).blur();$(this).find('*').blur();return false;});ind++;});var isVertical=dis.hasClass('poot-tabs-vertical');dis.attr('pootvertical',isVertical?'true':'');if(
isVertical){var teenie=dis.children('.poot-tabs').width().toString()+'px';dis.children('.poot-tabs-content').css('margin-left',teenie);}dis.attr('pootcollapse','');dis.find('.poot-tabs-hidelink a').click(function(){pootTabsHere.toggleCollapse(dis);return false;});},init:function(){$('.poot-tabs-container').each(pootTabsHere.poot);}};$(pootTabsHere.init);var langFixes={init:function(){var langList=['ar','cs','da','de','es','fi','fr','hu','it','ja','ko','nl','no','pl','pt','pt-br','ro','ru','sv','zh-hans','zh-hant'];var defaultLang='en';var lang=defaultLang;for(var i in langList){if(wgPageName.substr(wgPageName.length-1-langList[i].length).toLowerCase()=='/'+langList[i].toLowerCase()){lang=langList[i];break;}}$('body').addClass('lang-'+lang);var logolink=$('#p-logo a');if(logolink&&lang!=defaultLang){logolink.attr('href',logolink.attr('href')+'/'+lang);}}};$(langFixes.init);var loggedinBodyClass={init:function(){$('body').addClass(mw.config.get('wgUserName')==null?'not-logged-in':
'logged-in');}};$(loggedinBodyClass.init);var youtubeHelper={chromeSize:25,maxWidth:0.85,infoboxes:['.infobox','.testchamber'],ratioR:/ratio-(\d+)x(\d+)/i,widthsR:/widths((?:\D+\d+)+)/i,setSize:function(){var widths=youtubeHelper.widthsR.exec($(this).attr('class'));if(widths!=null){widths=widths[1].substr(1).split(/\D+/g);var availableWidth=$('#bodyContent').width();for(var i in youtubeHelper.infoboxes){if($(youtubeHelper.infoboxes[i]).length){availableWidth-=$(youtubeHelper.infoboxes[i]).width();}}availableWidth*=youtubeHelper.maxWidth;var intWidths=[];for(var w=0;w<widths.length;w++){intWidths[w]=parseInt(widths[w]);}intWidths.sort(function(a,b){return b-a;});for(var w=0;w<intWidths.length;w++){if(intWidths[w]<=availableWidth||w==intWidths.length-1){youtubeHelper.setWidth(this,intWidths[w]);break;}}}else{youtubeHelper.setWidth(this,parseFloat(obj.attr('width')));}},setUrl:function(){var obj=$(this).children('object');if(!obj.length)return;obj.append($(
'<param name="allowscriptaccess" value="true"></param>'));obj.append($('<param name="allowfullscreen" value="true"></param>'));var titleParts=wgPageName.split(/\//g);var lang='en';if(titleParts.length==2&&!wgCanonicalSpecialPageName){lang=titleParts[titleParts.length-1];}var playerUrl=obj.children('param[name="movie"]').attr('value')+'&version=2&fs=1&theme=dark&color=white'+($(this).hasClass('hd-on')?'&hd=1':'')+'&cc_load_policy=1&modestbranding=1&hl='+lang+'&cc_lang_pref='+lang;obj.children('param[name="movie"]').attr('value',playerUrl);obj.children('embed').attr('src',playerUrl).attr('allowscriptaccess','always').attr('allowfullscreen','true');var resultHtml=$(this).html();$(this).html('').html(resultHtml);},setWidth:function(youtube,width){var obj=$(youtube).children('object');if(!obj)return;if($(youtube).hasClass('youtube-audio')){obj.attr('width',width).attr('height',youtubeHelper.chromeSize);obj.children('embed').attr('width',width).attr('height',youtubeHelper.chromeSize);}else{
var ratio=youtubeHelper.ratioR.exec($(youtube).attr('class'));if(ratio!=null){ratio=parseFloat(ratio[1])/parseFloat(ratio[2]);var newHeight=Math.round(width/ratio+youtubeHelper.chromeSize).toString();obj.attr('width',width).attr('height',newHeight);obj.children('embed').attr('width',width).attr('height',newHeight);}}},resizeTimer:null,resize:function(){if(youtubeHelper.resizeTimer!=null){clearTimeout(youtubeHelper.resizeTimer);}youtubeHelper.resizeTimer=setTimeout(youtubeHelper.onResize,100);},onResize:function(){$('.youtubebox').each(youtubeHelper.setSize);},init:function(){$('.youtubebox').each(youtubeHelper.setUrl);$(window).resize(youtubeHelper.resize);youtubeHelper.onResize();}};$(youtubeHelper.init);if(wgAction=="edit"||wgAction=="submit"||wgPageName=="Special:Upload"){appendCSS('div.edittools-text { display:none; }');$(function(){var placeholder=document.getElementById("editpage-specialchars");if(!placeholder||window.noDefaultEdittools){appendCSS(
'div.edittools-text { display:block; }');return;}var match=/(?:^| )edittools-version-(\d+)(?: |$)/.exec(placeholder.className);if(!match&&window.testJsEdittools)match=/(?:^| )edittools-version-(test\d+)(?: |$)/.exec(placeholder.className);if(!match)return;var url=wgScript+'?title=MediaWiki:Edittools.js&action=raw&ctype=text/javascript&nocache='+match[1];importScriptURI(url);});}function talkpageplus(){var talkpagelink=document.getElementById('ca-talk');if(talkpagelink&&talkpagelink.className=='new'){talkpagelink.firstChild.href+='&section=new';}}$(talkpageplus);var spaiConstants={};spaiConstants.spaiImage='http://wiki.teamfortress.com/w/images/7/73/Team_Fortress_Wiki_Egg_Spy.png';spaiConstants.spaiHeight=196;spaiConstants.sappedLogo='http://wiki.teamfortress.com/w/images/8/8f/Team_Fortress_Wiki_Egg_Logo_Sap.png';spaiConstants.spaiSappingMahWikiWav='http://wiki.teamfortress.com/w/images/4/4a/Team_Fortress_Wiki_Egg.wav';spaiConstants.timeStep=40;spaiConstants.anim_spaiFallDown=2000;
spaiConstants.anim_spaiWait=900;spaiConstants.anim_spaiBackUp=2000;spaiConstants.anim_sapperDestroyed=2250;spaiConstants.theBody=function(){return document.getElementById('content');};spaiConstants.preloadedImages=[];spaiConstants.preloadingImages=[];spaiConstants.preloadingRefs={};spaiConstants.toPreloadImages=[spaiConstants.spaiImage,spaiConstants.sappedLogo];spaiConstants.self=null;spaiConstants.loadedSound=false;spaiConstants.loadedImages=false;spaiConstants.fired=false;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(obj,fromIndex){if(fromIndex==null){fromIndex=0;}else if(fromIndex<0){fromIndex=Math.max(0,this.length+fromIndex);}for(var i=fromIndex,j=this.length;i<j;i++){if(this[i]===obj)return i;}return-1;};}var spaiSappinMahWiki={constants:spaiConstants,createImgDiv:function(image){var self=spaiConstants.self;var div=document.createElement('div');var img=document.createElement('img');img.src=image;div.appendChild(img);setTimeout(function(){spaiConstants.theBody().
appendChild(div);},1);return{'div':div,'img':img};},imagesLoaded:function(){spaiConstants.loadedImages=true;if(spaiConstants.loadedSound){spaiConstants.self.spySappingMahWiki();}},soundLoaded:function(){spaiConstants.loadedSound=true;if(spaiConstants.loadedImages){spaiConstants.self.spySappingMahWiki();}},preloadSound:function(sound,callback){var self=spaiConstants.self;try{var audio=document.createElement('audio');audio.setAttribute('src',sound);audio.setAttribute('style','display: none;');audio.setAttribute('preload','true');spaiConstants.theBody().appendChild(audio);audio.addEventListener('canplaythrough',callback,false);}catch(e){}setTimeout(callback,1000);},preloadImage:function(image){var self=spaiConstants.self;if(spaiConstants.preloadingImages.indexOf(image)==-1){spaiConstants.preloadingImages[spaiConstants.preloadingImages.length]=image;var nodes=self.createImgDiv(image);spaiConstants.preloadingRefs[image]=nodes['img'];nodes['div'].setAttribute('style',
'visibility: hidden; height: 0px; width: 0px; overflow: hidden; z-index: -10000;');}if(spaiConstants.preloadingRefs[image].width){spaiConstants.preloadedImages[spaiConstants.preloadedImages.length]=image;}else{setTimeout(function(){self.preloadImage(image);},spaiConstants.timeStep);}},preloadImages:function(callback){var self=spaiConstants.self;var allPreloaded=true;for(var i in spaiConstants.toPreloadImages){if(spaiConstants.preloadedImages.indexOf(spaiConstants.toPreloadImages[i])==-1){allPreloaded=false;}if(spaiConstants.preloadingImages.indexOf(spaiConstants.toPreloadImages[i])==-1){self.preloadImage(spaiConstants.toPreloadImages[i]);}}if(allPreloaded){callback();}else{setTimeout(function(){self.preloadImages(callback);},spaiConstants.timeStep);}},destroyNode:function(node){try{node.parentNode.removeChild(node);}catch(e){}},smoothInOut:function(progress){return(Math.sin((progress-.5)*Math.PI)+1)/2;},inAnimation:function(func,progressTime,totalTime,callback,easing){var self=
spaiConstants.self;func(easing(progressTime/totalTime));if(progressTime>=totalTime){callback();}else{setTimeout(function(){self.inAnimation(func,progressTime+spaiConstants.timeStep,totalTime,callback,easing);},spaiConstants.timeStep);}},animate:function(func,totalTime,callback,easing){var self=spaiConstants.self;return self.inAnimation(func,0.0,totalTime,callback,easing);},playSound:function(sound){var self=spaiConstants.self;try{var audio=document.createElement('audio');audio.setAttribute('src',sound);audio.setAttribute('style','display: none;');audio.setAttribute('autoplay','true');spaiConstants.theBody().appendChild(audio);}catch(e){}},spyAnimationFinished:function(nodes){var self=spaiConstants.self;for(var node in nodes){self.destroyNode(nodes[node]);}spaiConstants.fired=false;},spySappingMahWiki:function(){var self=spaiConstants.self;if(spaiConstants.fired)return;spaiConstants.fired=true;var spai=document.createElement('a');spai.setAttribute('href','/');spai.setAttribute('style',
'display:block; position: absolute; top: 0px; left: 0px; width: 160px; height: 200px; border: 0px; background: url('+spaiConstants.spaiImage+') no-repeat 0px -50000px; z-index: 10000;');spaiConstants.theBody().appendChild(spai);var logoPortlet=document.getElementById('p-logo');logoPortlet.style.backgroundPosition='center bottom';var changeHeight=function(progress){progress=parseInt(progress*spaiConstants.spaiHeight);spai.style.backgroundPosition='0px '+(-spaiConstants.spaiHeight+progress).toString()+'px';};self.animate(changeHeight,spaiConstants.anim_spaiFallDown,function(){self.playSound(spaiConstants.spaiSappingMahWikiWav);setTimeout(function(){var oldBackground=logoPortlet.getElementsByTagName('a')[0].style.backgroundImage;logoPortlet.getElementsByTagName('a')[0].style.backgroundImage='url('+spaiConstants.sappedLogo+')';self.animate(function(progress){changeHeight(1.0-progress);},spaiConstants.anim_spaiBackUp,function(){setTimeout(function(){logoPortlet.getElementsByTagName('a')[0].
style.backgroundImage=oldBackground;self.spyAnimationFinished([spai]);},spaiConstants.anim_sapperDestroyed);},self.smoothInOut);},spaiConstants.anim_spaiWait);},self.smoothInOut);},hitItDoc:function(){var self=spaiConstants.self;self.preloadImages(self.imagesLoaded);self.preloadSound(spaiConstants.spaiSappingMahWikiWav,self.soundLoaded);},initKonami:function(){var self=spaiConstants.self;var Konami=function(){var konami={addEvent:function(obj,type,fn,ref_obj){if(obj.addEventListener)obj.addEventListener(type,fn,false);else if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=function(){obj["e"+type+fn](window.event,ref_obj);};obj.attachEvent("on"+type,obj[type+fn]);}},input:"",pattern:"3838404037393739666513",load:function(link){this.addEvent(document,"keydown",function(e,ref_obj){if(ref_obj)konami=ref_obj;konami.input+=e?e.keyCode:event.keyCode;if(konami.input.length>konami.pattern.length)konami.input=konami.input.substr((konami.input.length-konami.pattern.length));if(konami.input==
konami.pattern){konami.code();konami.input="";return;}},this);this.iphone.load(link)},code:function(link){window.location=link},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:false,capture:false,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP","TAP"],code:function(link){konami.code(link);},load:function(link){orig_keys=this.keys;konami.addEvent(document,"touchmove",function(e){if(e.touches.length==1&&konami.iphone.capture==true){var touch=e.touches[0];konami.iphone.stop_x=touch.pageX;konami.iphone.stop_y=touch.pageY;konami.iphone.tap=false;konami.iphone.capture=false;konami.iphone.check_direction();}});konami.addEvent(document,"touchend",function(evt){if(konami.iphone.tap==true)konami.iphone.check_direction(link);},false);konami.addEvent(document,"touchstart",function(evt){konami.iphone.start_x=evt.changedTouches[0].pageX;konami.iphone.start_y=evt.changedTouches[0].pageY;konami.iphone.tap=true;konami.iphone.capture=true;});},check_direction:
function(link){x_magnitude=Math.abs(this.start_x-this.stop_x);y_magnitude=Math.abs(this.start_y-this.stop_y);x=((this.start_x-this.stop_x)<0)?"RIGHT":"LEFT";y=((this.start_y-this.stop_y)<0)?"DOWN":"UP";result=(x_magnitude>y_magnitude)?x:y;result=(this.tap==true)?"TAP":result;if(result==this.keys[0])this.keys=this.keys.slice(1,this.keys.length);if(this.keys.length==0){this.keys=this.orig_keys;this.code(link);}}}};return konami;};var konami=new Konami();konami.code=function(){self.hitItDoc.apply(self)};konami.load();}};spaiConstants.self=spaiSappinMahWiki;$(spaiSappinMahWiki.initKonami);var dynamicBg={categories:{'Scout':'http://wiki.teamfortress.com/w/images/e/ea/Background_Scout_vector.png','Soldier':'http://wiki.teamfortress.com/w/images/5/54/Background_Soldier_vector.png','Pyro':'http://wiki.teamfortress.com/w/images/e/ed/Background_Pyro_vector.png','Demoman':'http://wiki.teamfortress.com/w/images/5/59/Background_Demoman_vector.png','Engineer':
'http://wiki.teamfortress.com/w/images/f/f7/Background_Engineer_vector.png','Heavy':'http://wiki.teamfortress.com/w/images/0/03/Background_Heavy_vector.png','Medic':'http://wiki.teamfortress.com/w/images/2/24/Background_Medic_vector.png','Sniper':'http://wiki.teamfortress.com/w/images/e/ed/Background_Sniper_vector.png','Spy':'http://wiki.teamfortress.com/w/images/b/b9/Background_Spy_vector.png'},getCategories:function(){var catlinksnode=document.getElementById('catlinks');if(!catlinksnode)return[];var catlinks=document.getElementById('catlinks').getElementsByTagName('a');var cats=[];var l;for(var i=0;i<catlinks.length;i++){l=catlinks[i].getAttribute('title');if(l.match(/^Category:/i,'')){cats[cats.length]=l.substr(9).replace(/\/[^/]+$/,'');}}return cats;},inArray:function(haystack,needle){for(var i=0;i<haystack.length;i++){if(haystack[i]==needle){return i;}}return-1;},init:function(){if(typeof(wPrefs)!='undefined'){if(dynamicBg.inArray(wPrefs,'noDynamicBackground')!=-1){return;}}try{
var cats=dynamicBg.getCategories();var body=document.getElementsByTagName('body')[0];}catch(e){return;}var selectedCats=[];if(typeof(dynamicBg.categories['title-'+wgTitle])!='undefined'){selectedCats[0]=dynamicBg.categories['title-'+wgTitle];}else{for(var i in dynamicBg.categories){if(dynamicBg.inArray(cats,i)!=-1){selectedCats[selectedCats.length]=dynamicBg.categories[i];}}}if(!selectedCats.length)return;var selectedCat=selectedCats[Math.floor(Math.random()*selectedCats.length)];body.style.backgroundImage='url('+selectedCat+')';}};$(dynamicBg.init);var pageScripts={pagesJS:['User:WindPower','User:MogDog66','User:WindPower/Main_Page','User:Lexar/Main_Page/Template:Benjas','User:Lexar/RandomPage','User:Lexar/responsive_infobox'],pagesCSS:['User:WindPower','User:Pilk/armory','User:Pilk','User:Esquilax','User:Lagg','User:MogDog66','User:CrushBOT','User:MogDog66/userpagev2','User:NVis','User:NVis/Sandbox','User:Lexar','User:MogDog66/MPR','User:WindPower/Main_Page',
'User:Moussekateer/3DViewer','User:T-Wayne','User:FreeXMan','User:Nixshadow','User:Ath','User:Carez','User:Lexar/Main_Page/Template:Benjas','User:Lexar/RandomPage','User:MogDog66/Sandbox','User:Obilisk','User:Lexar/itembox_tooltip','User:Lexar/responsive_infobox'],suffixJS:'/Page.js',suffixCSS:'/Page.css',init:function(){for(var i in pageScripts.pagesJS){if(wgPageName==pageScripts.pagesJS[i]){$.getScript(wgScript+'?title='+encodeURIComponent(wgPageName+pageScripts.suffixJS)+'&ctype=text/javascript&action=raw');}}for(var i in pageScripts.pagesCSS){if(wgPageName==pageScripts.pagesCSS[i]){$('head').append($('<link rel="stylesheet" type="text/css" media="screen" />').attr('href',wgScript+'?title='+encodeURIComponent(wgPageName+pageScripts.suffixCSS)+'&ctype=text/css&action=raw'));}}}};$(pageScripts.init);var fancyDiffs={isBigDiff:false,isBigDiffThreshold:72,toggle:function(element){var expanded=element.hasClass('diff-expanded');var contents=element.parent().children('.diff-contents');if(
expanded){element.removeClass('diff-expanded');if(fancyDiffs.isBigDiff){contents.hide();}else{contents.slideUp('fast');}}else if(element.hasClass('diff-data-loaded')){element.addClass('diff-expanded');contents.slideDown('fast');}else if(!element.hasClass('diff-data-requested')){element.addClass('diff-data-requested');var fileName=element.find('span').text().replace(/^\s+|\s+$/g);var patchName=element.closest('.diffname');var diffName=wgPageName;if(patchName&&patchName.length&&patchName.attr('class')){diffName=patchName.attr('class').substr(9);}$.get('/w/?title=Template:PatchDiff/'+encodeURIComponent(diffName.replace(/^Template:PatchDiff\//,''))+'/'+encodeURIComponent(fileName)+'&action=raw',function(data){contents.html(data);if(fancyDiffs.isBigDiff){contents.show();}else{contents.slideDown('fast');}element.removeClass('diff-data-requested').addClass('diff-data-loaded').addClass('diff-expanded');});}},init:function(){var diffText=$('.diff-name-text');if(diffText.length){$('body').append
($('<img/>').attr('src','/w/images/4/43/Patch_diff_loading.gif').css('display','none'));diffText.find('span').each(function(){$(this).text($(this).find('a').text().replace(/^\s+|\s+$/g));});diffText.click(function(){fancyDiffs.toggle($(this));return false;});fancyDiffs.isBigDiff=$('.diff-file').length>fancyDiffs.isBigDiffThreshold;}}};$(fancyDiffs.init);$('#switch-to-3d').click(function(){$('.container-2d').hide();$('.viewer-3d, .viewer-3d-multi, .buttons-container-3d').show();});$('#switch-to-2d').click(function(){$('.viewer-3d, .viewer-3d-multi, .buttons-container-3d').hide();$('.container-2d').show();});var viewer3d={dragging:null,draggingFrameX:0,draggingFrameY:0,viewers:[],frameThresholdX:10,frameThresholdY:128,realMod:function(x,y){return((x%y)+y)%y;},init:function(){$('.viewer-3d').each(viewer3d.bind);$(document).mouseup(viewer3d.release);$(document).mousemove(viewer3d.move);},bind:function(){var v=$(this);var num=viewer3d.viewers.length;var allModels=[];var modelID=0;var
viewerSize=0;while(true){var modelMap=v.find('.viewer-3d-map-'+modelID);var urlNode=v.find('.viewer-3d-url-'+modelID);if(!modelMap.length||!urlNode.length)break;var url=$('<div/>').html(urlNode.text()).text();var framesS=$('<div/>').html(modelMap.text()).text().replace(/^\s+|\s+$/g).split(/,/g);var frameMap=[];var heightMap=[];var leftCropMap=[];var totalW=parseInt(framesS[0]);var maxFrameW=parseInt(framesS[1]);var totalH=parseInt(framesS[2]);var verticalSteps=parseInt(framesS[3]);var midVertical=Math.floor(verticalSteps/2);for(var f=4;f<framesS.length;f+=3){frameMap.push(parseInt(framesS[f]));heightMap.push(parseInt(framesS[f+1]));leftCropMap.push(parseInt(framesS[f+2]));}allModels.push({imageURL:url,map:frameMap,cropMap:leftCropMap,totalWidth:totalW,totalHeight:totalH,maxFrameWidth:maxFrameW,xStep:verticalSteps});viewerSize=Math.max(viewerSize,totalH,maxFrameW);modelID++;}if(!modelID)return;var overlayNode=$('<div class="viewer-3d-overlay"></div>');var frameN=v.find(
'.viewer-3d-frame');v.find('img').detach();var klasses=v.attr('class').split(/ /g);var startFrame=0;for(var k in klasses){if(klasses[k].substr(0,11)=='startframe-'){startFrame=Math.max(0,parseInt(klasses[k].substr(11)));}}var viewer={node:v,frameX:startFrame,frameY:midVertical,models:allModels,currentModel:-1,frameNode:frameN,width:viewerSize,height:viewerSize,mouseX:0,mouseY:0,overlay:overlayNode};viewer3d.viewers.push(viewer);v.hover(viewer3d.hover,viewer3d.unhover).mousedown(viewer3d.drag).append(overlayNode).attr('data-id',num).css({width:viewer.width+'px',height:viewer.height+'px'});frameN.mousedown(viewer3d.drag).attr('data-id',num).css('height',viewer.height+'px');viewer3d.changeVersion(viewer,0);},getCurrentModel:function(v){return v.models[v.currentModel];},changeVersion:function(v,version){version=Math.max(0,Math.min(v.models.length-1,version));if(v.currentModel==version)return;v.currentModel=version;v.frameNode.css('background','url('+viewer3d.getCurrentModel(v).imageURL+
') top left no-repeat');viewer3d.display(v,v.frameX,v.frameY);},hover:function(e){var v=viewer3d.getViewer(this);if(viewer3d.dragging!=v){v.overlay.animate({'opacity':'1'},'fast');}},unhover:function(e){var v=viewer3d.getViewer(this);if(viewer3d.dragging!=v){v.overlay.animate({'opacity':'0.5'},'fast');}},drag:function(e){var v=viewer3d.getViewer(this);v.mouseX=e.pageX;v.mouseY=e.pageY;viewer3d.dragging=v;draggingFrameX=v.frameX;draggingFrameY=v.frameY;return false;},release:function(){var v=viewer3d.dragging;viewer3d.dragging=null;if(v!=null){v.frameX=viewer3d.draggingFrameX;v.frameY=viewer3d.draggingFrameY;v.overlay.animate({'opacity':'0.5'},'fast');}viewer3d.draggingFrameX=0;viewer3d.draggingFrameY=0;},getViewer:function(node){return viewer3d.viewers[parseInt($(node).attr('data-id'))];},display:function(v,frameX,frameY){var model=viewer3d.getCurrentModel(v);var frameID=viewer3d.realMod(frameX*model.xStep+frameY,model.map.length);var frameOffset=model.map[frameID];var frameWidth=0;if(
frameID==model.map.length-1){frameWidth=model.totalWidth-frameOffset;}else{frameWidth=model.map[frameID+1]-frameOffset;}v.frameNode.css({backgroundPosition:(-frameOffset-frameID)+'px 0px',left:Math.round((v.width-model.maxFrameWidth)/2.0+model.cropMap[frameID])+'px',top:Math.round((v.height-model.totalHeight)/2)+'px',width:frameWidth+'px',height:model.totalHeight+'px'});},move:function(e){if(viewer3d.dragging==null){return;}var v=viewer3d.dragging;var model=viewer3d.getCurrentModel(v);var mouseDeltaX=e.pageX-v.mouseX;var mouseDeltaY=e.pageY-v.mouseY;var frameDeltaX=Math.round(mouseDeltaX/viewer3d.frameThresholdX);var frameDeltaY=-Math.round(mouseDeltaY/viewer3d.frameThresholdY);viewer3d.draggingFrameX=v.frameX+frameDeltaX;viewer3d.draggingFrameY=Math.max(0,Math.min(model.xStep-1,v.frameY+frameDeltaY));viewer3d.display(v,viewer3d.draggingFrameX,viewer3d.draggingFrameY);}};$(viewer3d.init);var selector3d={bind:function(){var viewer=viewer3d.getViewer($(this).find('.viewer-3d'));var
keepGoing=true;var modelVariant=0;var selector;while(keepGoing){selector=$(this).find('.selector-'+modelVariant);if(selector.length){selector.attr('data-variant',modelVariant).click(function(){viewer3d.changeVersion(viewer,parseInt($(this).attr('data-variant')));return false;});}modelVariant++;keepGoing=selector.length;}},init:function(){$('.viewer-3d-multi, .viewer-3d-container').each(selector3d.bind);}};$(selector3d.init);$.fn.addTouch=function(){this.each(function(i,el){$(el).bind('touchstart touchmove touchend touchcancel',function(){handleTouch(event);});});var handleTouch=function(event){var touches=event.changedTouches,first=touches[0],type='';switch(event.type){case'touchstart':type='mousedown';break;case'touchmove':type='mousemove';event.preventDefault();break;case'touchend':type='mouseup';break;default:return;}var simulatedEvent=document.createEvent('MouseEvent');simulatedEvent.initMouseEvent(type,true,true,window,1,first.screenX,first.screenY,first.clientX,first.clientY,
false,false,false,false,0,null);first.target.dispatchEvent(simulatedEvent);};};$('.viewer-3d').addTouch();var lightboxStuff={settings:{imageLoading:'http://wiki.teamfortress.com/w/images/7/78/TF2_Logo_Loader.gif',imageBtnClose:'http://wiki.teamfortress.com/w/images/e/e2/Lightbox_button_close.gif',imageBtnPrev:'http://wiki.teamfortress.com/w/images/c/c8/Lightbox_button_previous.gif',imageBtnNext:'http://wiki.teamfortress.com/w/images/9/9e/Lightbox_button_next.gif',imageBlank:'http://wiki.teamfortress.com/w/images/f/f6/Lightbox_blank.gif',},init:function(){var galleryIndex=0;var galleryBuckets={};$('.gallery, .wikitable').each(function(){$(this).data('lightbox-gallery-id',galleryIndex);galleryBuckets[gID]=null;galleryIndex++;});$('.lightboxed').each(function(){var gallery=$(this).closest('.gallery');if(gallery.length){var caption=$(this).closest('.gallerybox').find('.gallerytext').html();$(this).attr('data-title','<p>'+caption+'</p>'+$(this).attr('data-title'));var gID=gallery.data(
'lightbox-gallery-id');if(galleryBuckets[gID]==null){galleryBuckets[gID]=$(this);}else{galleryBuckets[gID]=galleryBuckets[gID].add($(this));}}else{var wikitable=$(this).closest('.wikitable');if(wikitable.length){var caption=$(this).closest('td').attr('title')||'';$(this).attr('data-title','<p>'+caption+'</p>'+$(this).attr('data-title'));var gID=wikitable.data('lightbox-gallery-id');if(galleryBuckets[gID]==null){galleryBuckets[gID]=$(this);}else{galleryBuckets[gID]=galleryBuckets[gID].add($(this));}}else{var thumb=$(this).closest('.thumbinner');if(thumb.length){var caption=thumb.children('.thumbcaption');if(caption.length){$(this).attr('data-title','<p>'+caption.html().replace(/<div[^<>]*class="magnify"[^<>]*>[\s\S]*<\/div>/i,'').replace(/^\s+|\s+$/g,'')+'</p>'+$(this).attr('data-title'));}}}if($(this)!=null){$(this).lightBox(lightboxStuff.settings);}}});for(var gID in galleryBuckets){if(galleryBuckets[gID]!=null){galleryBuckets[gID].lightBox(lightboxStuff.settings);}}}};$(document).
ready(function(){$(lightboxStuff.init);});var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-18260470-1']);_gaq.push(['_setDomainName','.teamfortress.com']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();var GoSquared={};GoSquared.acct="GSN-106863-S";(function(w){function gs(){w._gstc_lt=+new Date;var d=document,g=d.createElement("script");g.type="text/javascript";g.src="//d1l6p2sc9645hc.cloudfront.net/tracker.js";var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(g,s);}w.addEventListener?w.addEventListener("load",gs,false):w.attachEvent("onload",gs);})(window);mw.loader.state({"site":"ready"});
/* cache key: tf_wiki:resourceloader:filter:minify-js:7:45300d89f4a63f45b67365c7bfb418f5 */